# Licensed to the Software Freedom Conservancy (SFC) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The SFC licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.

"""
Exceptions that may happen in all the webdriver code.
"""


class WebDriverException(Exception):
    """
    Base webdriver exception.
    webdriver基础异常
    """

    def __init__(self, msg=None, screen=None, stacktrace=None):
        self.msg = msg
        self.screen = screen
        self.stacktrace = stacktrace

    def __str__(self):
        exception_msg = "Message: %s\n" % self.msg
        if self.screen is not None:
            exception_msg += "Screenshot: available via screen\n"
        if self.stacktrace is not None:
            stacktrace = "\n".join(self.stacktrace)
            exception_msg += "Stacktrace:\n%s" % stacktrace
        return exception_msg


class ErrorInResponseException(WebDriverException):
    """
    Thrown when an error has occurred on the server side.
    当服务器端发生错误时抛出。
    This may happen when communicating with the firefox extension
    or the remote driver server.
    在与firefox扩展或远程驱动服务器通信时可能会发生这种情况。
    """
    def __init__(self, response, msg):
        WebDriverException.__init__(self, msg)
        self.response = response


class InvalidSwitchToTargetException(WebDriverException):
    """
    Thrown when frame or window target to be switched doesn't exist.
    当要切换的框架或窗口目标不存在时抛出。
    """
    pass


class NoSuchFrameException(InvalidSwitchToTargetException):
    """
    Thrown when frame target to be switched doesn't exist.
    当要切换的框架目标不存在时抛出。
    """
    pass


class NoSuchWindowException(InvalidSwitchToTargetException):
    """
    Thrown when window target to be switched doesn't exist.
    当要切换的窗口目标不存在时抛出。
    To find the current set of active window handles, you can get a list
    of the active window handles in the following way::
    要查找当前活动窗口句柄集，您可以通过以下方法获得活动窗口句柄的列表::

        print driver.window_handles

    """
    pass


class NoSuchElementException(WebDriverException):
    """
    Thrown when element could not be found.
    在找不到元素时抛出。
    If you encounter this exception, you may want to check the following:
    如果您遇到此异常，您可能需要检查以下内容:
        * Check your selector used in your find_by...
        * 检查您的选择器使用您的发现由…
        * Element may not yet be on the screen at the time of the find operation,
          元素在执行查找操作时可能尚未显示在屏幕上，
          (webpage is still loading) see selenium.webdriver.support.wait.WebDriverWait()
          (网页仍在加载中)见 selenium.webdriver.support.wait.WebDriverWait()
          for how to write a wait wrapper to wait for an element to appear.
          有关如何编写等待包装程序以等待元素出现。
    """
    pass


class NoSuchAttributeException(WebDriverException):
    """
    Thrown when the attribute of element could not be found.
    找不到元素的属性时抛出。
    You may want to check if the attribute exists in the particular browser you are
    testing against.  Some browsers may have different property names for the same
    property.  (IE8's .innerText vs. Firefox .textContent)
    您可能希望检查正在测试的特定浏览器中是否存在该属性。
    某些浏览器可能对同一属性具有不同的属性名称。(IE8's .innerText vs. Firefox .textContent)
    """
    pass


class StaleElementReferenceException(WebDriverException):
    """
    Thrown when a reference to an element is now "stale".
    当对元素现在引用“陈旧”时抛出。
    Stale means the element no longer appears on the DOM of the page.
    “陈旧”意味着元素不再出现在页面的DOM上。

    Possible causes of StaleElementReferenceException include, but not limited to:
    可能导致StaleElementReferenceException的原因包括但不限于:
        * You are no longer on the same page, or the page may have refreshed since the element
          was located.您不再位于同一页面上，或者自从找到元素以来该页面可能已刷新。
        * The element may have been removed and re-added to the screen, since it was located.
          元素可能已被删除并重新添加到屏幕上，因为它已被定位。
          Such as an element being relocated.
           比如一个元素被重新定位。
          This can happen typically with a javascript framework when values are updated and the
          node is rebuilt.
          在更新值和重新构建节点时，javascript框架通常会发生这种情况。
        * Element may have been inside an iframe or another context which was refreshed.
        * 元素可能在iframe或另一个刷新的上下文中。
    """
    pass


class InvalidElementStateException(WebDriverException):
    """
    Thrown when a command could not be completed because the element is in an invalid state.
    由于元素处于无效状态而无法完成命令时引发。
    This can be caused by attempting to clear an element that isn't both editable and resettable.
    这可能是由于试图清除一个既不可编辑又不可重新设置的元素造成的。
    """
    pass


class UnexpectedAlertPresentException(WebDriverException):
    """
    Thrown when an unexpected alert is appeared.
    出现意外警报时抛出。
    Usually raised when when an expected modal is blocking webdriver form executing any
    more commands.  通常当一个期望的模态阻塞webdriver表单执行更多命令时触发。
    """
    def __init__(self, msg=None, screen=None, stacktrace=None, alert_text=None):
        super(UnexpectedAlertPresentException, self).__init__(msg, screen, stacktrace)
        self.alert_text = alert_text

    def __str__(self):
        return "Alert Text: %s\n%s" % (self.alert_text, super(UnexpectedAlertPresentException, self).__str__())


class NoAlertPresentException(WebDriverException):
    """
    Thrown when switching to no presented alert.
    切换到不显示警告时抛出。
    This can be caused by calling an operation on the Alert() class when an alert is
    not yet on the screen.
    这可能是由于在屏幕上还没有警告时调用Alert（）类上的操作引起的。
    """
    pass


class ElementNotVisibleException(InvalidElementStateException):
    """
    Thrown when an element is present on the DOM, but
    it is not visible, and so is not able to be interacted with.
    当元素存在于DOM上但不可见时抛出，因此无法与之交互。

    Most commonly encountered when trying to click or read text
    of an element that is hidden from view.
    尝试单击或阅读从视图中隐藏的元素的文本时最常遇到的问题。
    """
    pass


class ElementNotInteractableException(InvalidElementStateException):
    """
    Thrown when an element is present in the DOM but interactions
    with that element will hit another element do to paint order
    当元素存在于DOM中但与该元素的交互将命中另一个元素时抛出，以绘制顺序
    """
    pass


class ElementNotSelectableException(InvalidElementStateException):
    """
    Thrown when trying to select an unselectable element.
    尝试选择不可选择的元素时抛出。

    For example, selecting a 'script' element.
    例如，选择一个“脚本”元素。
    """
    pass


class InvalidCookieDomainException(WebDriverException):
    """
    Thrown when attempting to add a cookie under a different domain
    than the current URL.
    尝试在与当前URL不同的域下添加cookie时抛出。
    """
    pass


class UnableToSetCookieException(WebDriverException):
    """
    Thrown when a driver fails to set a cookie.
    当驱动程序无法设置cookie时抛出。
    """
    pass


class RemoteDriverServerException(WebDriverException):
    """
    """
    pass


class TimeoutException(WebDriverException):
    """
    Thrown when a command does not complete in enough time.
    当命令没有在足够的时间内完成时抛出。
    """
    pass


class MoveTargetOutOfBoundsException(WebDriverException):
    """
    Thrown when the target provided to the `ActionsChains` move()
    method is invalid, i.e. out of document.
    当目标提供给“ ActionsChains”的move（）时抛出方法无效，即文件外。
    """
    pass


class UnexpectedTagNameException(WebDriverException):
    """
    Thrown when a support class did not get an expected web element.
    当支持类没有获得预期的web元素时抛出。
    """
    pass


class InvalidSelectorException(NoSuchElementException):
    """
    Thrown when the selector which is used to find an element does not return
    a WebElement. Currently this only happens when the selector is an xpath
    expression and it is either syntactically invalid (i.e. it is not a
    xpath expression) or the expression does not select WebElements
    (e.g. "count(//input)").
    当用于查找元素的选择器不返回WebElement时抛出。
    目前只有当选择器是xpath表达式并且它在语法上是无效的(即它不是xpath表达式)
    或者表达式没有选择WebElements(例如，它不是一个xpath表达式)时才会发生这种情况
    (e.g. "count(//input)")。
    """
    pass


class ImeNotAvailableException(WebDriverException):
    """
    Thrown when IME support is not available. This exception is thrown for every IME-related
    method call if IME support is not available on the machine.
    当IME支持不可用时抛出。如果机器上没有IME支持，则为每个与IME相关的方法调用抛出此异常。
    """
    pass


class ImeActivationFailedException(WebDriverException):
    """
    Thrown when activating an IME engine has failed.
    启动IME引擎失败时抛出。
    """
    pass


class InvalidArgumentException(WebDriverException):
    """
    The arguments passed to a command are either invalid or malformed.
    传递给命令的参数不是无效就是格式错误。
    """
    pass


class JavascriptException(WebDriverException):
    """
    An error occurred while executing JavaScript supplied by the user.
    执行用户提供的JavaScript时发生错误。
    """
    pass


class NoSuchCookieException(WebDriverException):
    """
    No cookie matching the given path name was found amongst the associated cookies of the
    current browsing context's active document.
    在当前浏览上下文的活动文档的关联cookie中没有找到与给定路径名匹配的cookie。
    """
    pass


class ScreenshotException(WebDriverException):
    """
    A screen capture was made impossible.
    屏幕截图变得不可能了。
    """
    pass


class ElementClickInterceptedException(WebDriverException):
    """
    The Element Click command could not be completed because the element receiving the events
    is obscuring the element that was requested clicked.
    无法完成“元素点击”命令，因为接收事件的元素遮盖了请求单击的元素。
    """
    pass


class InsecureCertificateException(WebDriverException):
    """
    Navigation caused the user agent to hit a certificate warning, which is usually the result
    of an expired or invalid TLS certificate.
    导航导致用户代理命中证书警告，这通常是TLS证书过期或无效的结果。
    """
    pass


class InvalidCoordinatesException(WebDriverException):
    """
    The coordinates provided to an interactions operation are invalid.
    提供给交互操作的坐标无效。
    """
    pass


class InvalidSessionIdException(WebDriverException):
    """
    Occurs if the given session id is not in the list of active sessions, meaning the session
    either does not exist or that it's not active.
    如果给定的会话ID不在活动会话列表中，则发生，这意味着该会话不存在或未处于活动状态。
    """
    pass


class SessionNotCreatedException(WebDriverException):
    """
    A new session could not be created.
    无法创建新的会话。
    """
    pass


class UnknownMethodException(WebDriverException):
    """
    The requested command matched a known URL but did not match an method for that URL.
    请求的命令与已知URL匹配，但与该URL的方法不匹配。
    """
    pass
